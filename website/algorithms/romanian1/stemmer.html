<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML>
<HEAD>
  <TITLE>Romanian stemming algorithm</TITLE>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-2">
</HEAD>

<BODY BGCOLOR=WHITE>
<TABLE WIDTH=75% ALIGN=CENTER COLS=1>
<H1 ALIGN=CENTER>Romanian stemming algorithm</H1>

<TR><TD>
<BR>&nbsp;<H2>Links to resources</H2>

<DL><DD><TABLE CELLPADDING=0>
<TR><TD><A HREF="../.."> Snowball main page</A>
<TR><TD><A HREF="stem_Unicode.sbl">    The Romanian stemmer in Snowball (UTF-8 encoding)</A>
<TR><TD><A HREF="stem_Unicode.c">      The ANSI C stemmer</A>
<TR><TD><A HREF="stem_Unicode.h">      &#x2014; and its header</A>
<TR><TD><A HREF="voc.txt">     Sample Romanian vocabulary</A>
<TR><TD><A HREF="output.txt">  Its stemmed equivalent</A>
<TR><TD><A HREF="diffs.txt">   Vocabulary + stemmed equivalent</A>
<BR><BR>
<TR><TD><A HREF="stop.txt">     Romanian stop word list</A>
</TABLE></DL>

<BR><BR>

</TR>

<TR><TD BGCOLOR="lightpink">

<BR><BR>

Here is a sample of Romanian vocabulary, with the stemmed forms that will
be generated with this algorithm.

<BR><BR>

<DL><DD><TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
abandonat<BR>
abreviative<BR>
aburului<BR>
acceleraþii<BR>
accentuatã<BR>
accidentalã<BR>
accidentologie<BR>
aclinice<BR>
acordata<BR>
actualizabil<BR>
acupuncturist<BR>
acuzare<BR>
adaptativ<BR>
administratoare<BR>
adorabila<BR>
adormitori<BR>
aeraj<BR>
afundat<BR>
ajunez<BR>
ajunºi<BR>
ajustabil<BR>
ajutorare<BR>
alarmez<BR>
albãstritã<BR>
alegorizata<BR>
alunecuº<BR>
ambiþioasã<BR>
ameliorativa<BR>
amendabila<BR>
ameninþãtor<BR>
amãgit<BR>
amãgita<BR>
anexat<BR>
aniversez<BR>
aplecator<BR>
apologistã<BR>
apucaþi<BR>
arcaºi<BR>
arendaºi<BR>
argintar<BR>
arhicunoscuta<BR>
armonia<BR>
armonice<BR>
bacteriform<BR>
</TD>
<TD></TD><TD> &nbsp;<TT><B> => </B></TT>&nbsp; </TD>
<TD></TD><TD>
abandon<BR>
abrevi<BR>
abur<BR>
acceler<BR>
accentu<BR>
accident<BR>
accidentolog<BR>
aclin<BR>
acord<BR>
actual<BR>
acupunctur<BR>
acuz<BR>
adapt<BR>
administr<BR>
ador<BR>
adorm<BR>
aer<BR>
afund<BR>
ajun<BR>
ajunº<BR>
ajust<BR>
ajutor<BR>
alarm<BR>
albãstr<BR>
alegoriz<BR>
alunec<BR>
ambiþ<BR>
amelior<BR>
amend<BR>
ameninþ<BR>
amãg<BR>
amãg<BR>
anex<BR>
anivers<BR>
aplec<BR>
apolog<BR>
apuc<BR>
arc<BR>
arend<BR>
argint<BR>
arhicunosc<BR>
armon<BR>
armon<BR>
bacteriform<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
baftã<BR>
baloane<BR>
bandaj<BR>
basm<BR>
bestiale<BR>
beþivancã<BR>
biciclicã<BR>
bifazat<BR>
bilingvã<BR>
binecuvântez<BR>
bipede<BR>
blamatã<BR>
blestemat<BR>
blesteme<BR>
blond<BR>
bobine<BR>
boemã<BR>
bolºevism<BR>
bombaþi<BR>
bombãni<BR>
bondoacã<BR>
boreala<BR>
boxez<BR>
breaza<BR>
britanica<BR>
brodeza<BR>
brumãrii<BR>
brunatã<BR>
brânduºicã<BR>
brãdet<BR>
brãzdui<BR>
brãzdãtura<BR>
bucãtãrii<BR>
bufnita<BR>
bujor<BR>
buletine<BR>
bunãtãþi<BR>
buzna<BR>
bâjbâiturã<BR>
bârsanã<BR>
bãdãdãi<BR>
bãietan<BR>
bãieþi<BR>
bãlsãmat<BR>
</TD>
<TD></TD><TD> &nbsp;<TT><B> => </B></TT>&nbsp; </TD>
<TD></TD><TD>
baft<BR>
baloan<BR>
band<BR>
basm<BR>
best<BR>
beþivanc<BR>
bicicl<BR>
bifaz<BR>
bilingv<BR>
binecuvânt<BR>
biped<BR>
blam<BR>
blestem<BR>
blestem<BR>
blond<BR>
bobin<BR>
boem<BR>
bolºev<BR>
bomb<BR>
bombãn<BR>
bondoac<BR>
boreal<BR>
box<BR>
breaz<BR>
britan<BR>
brodez<BR>
brum<BR>
brun<BR>
brânduº<BR>
brãdet<BR>
brãzd<BR>
brãzdãtur<BR>
bucãt<BR>
bufn<BR>
bujor<BR>
buletin<BR>
bunãtãþ<BR>
buzn<BR>
bâjbâit<BR>
bârs<BR>
bãdãd<BR>
bãiet<BR>
bãieþ<BR>
bãlsãm<BR>
</TD>
</TR>
</TABLE></DL>


</TR>

<TR><TD>

<BR><BR>
&nbsp;<H2>The stemming algorithm</H2>

<BR><BR>
Romanian language is a Romance language which has a rich inflexional and derivational system. For example:<BR>

(1) determination of the noun: 
<DL><DD>
	the article is post-positioned for general nouns (enclitics), 
	or it  precedes the proper nouns: 
 <DL><DD>
	mas<I>a</I> - the table<BR>
	Ii dau elevu<I>lui</I> o carte. - I give the pupil a book.<BR>
	Ii dau <I>lui</I> Marius o carte. - I give Marius a book.<BR></DL>

	if the adjective precedes the noun, it takes the article of the noun:
 <DL><DD>
	frumos<I>ul</I> copil<I>0</I> - the beautiful child<BR></DL>

</DL>
(2) the verb has in the traditional grammar 4 flexionary classes, established after infinitive suffixes:
<DL><DD>
	a mânc<B><I>a</B></I> - eat<BR>
	a b<B><I>ea</B></I> - drink<BR>
	a merg<B><I>e</B></I>- walk, go<BR>
	a iub<B><I>i</B></I> - love<BR>
	a ur<B><I>î</B></I> - hate<BR></DL>
But some grammars are speaking about 12  or flexionary classes of the Romanian verb.<BR>

(3) the adjective is classified in four inflectional classes: with 4, 3 or 2 endings and non-inflectional adjective.
<BR><BR>
The inflected words can have 3 letters: ou<B><I>l</B></I> - the egg, ac<B><I>e</B></I> - needles, or  more letters: <I>imparatescului</I> – of/to the royal
<BR><BR>
The Romanian derivational  system is very complex and multistratal. A word can take one d suffix or even more d suffixes, being thus twice or thrice derivated. For example: a lexical paradigm of the word <B><I>stabil</B></I> is: 
<DL><DD>
	stabil - stable<BR>	
		stabili - stabilize<BR>
		stabilit - stabled<BR>
		stabilire - stabilisation<BR>
		stabilibil - stabilizable<BR>
		stabiliza - stabilize<BR>
		stabilizat - stabilized<BR>
		stabilizant - stabilizing<BR>
		stabilizare - stabilization<BR>
		stabilizator - stabilizing<BR></DL>
<BR><BR>
However, one problem for the algorithm occurs: there are homonymous sequences which can be either suffixes or part of the root itself, e.g:
<DL><DD>	
	<B><I>-al</B></I> : c<B><I>al</B></I> - horse (part of the root), industri<B><I>al</B></I> - industrial (suffix)<BR>
	<B><I>-em</B></I>: morphological suffix from verb, 1st pers. pl. (fac<B><I>em</B></I> – we do, merg<B><I>em</B></I> – we go  vs. sistem - system, 	barem - limit, where <B><I>-em</B></I> is part of the root)<BR>		 
	<B><I>-esc</B></I>: morphological suffix from verb, 1st pers. sg. and 3rd pers. pl: <I>eu iubesc</I> (I love), <I>ei iubesc</I> (they love),
	or derivational suffix - building adjectives and adverbs: <I>imparatesc</I> (royal/ly)</DL>
<BR><BR>
Through our stemming program we want to remove all the morphological suffixes and most of the derivational suffixes.
In order to fix the problem caused by homonymity we create a list of exceptions.The list contains words without inflection, like adverbials or conjunctions. Generally, these are stopwords: <I>devreme</I> - early, <I>apoi</I> - then, <I>cãci</I> - as, <I>deci</I> - therefore)
There are only a few examples for each case included in the list and their number could be increased.
In order to find a further solution for solving the issue of homonymity we treated some words containing a sequence identically with a suffix as an exception to the usual setting of p1, the left point of R1: <I>coral</I> – coral reef, <I>moral</I> – moral, <I>marar</I> – dill, <I>declar</I> – declare.
</DL>
<BR>&nbsp;<H2>Definition of the Romanian stemmer</H2>
Letters in Romanian include the following accented forms

/* ã - ab , â - a^ , î - i^, º - s,  þ - t,. */

Define a <I>vowel</I> as one of
<DL><DD>
	<B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp; ab a^ i^, y</I></B>
</DL>
We define the regions R1 and R2 as they are defined in English.
(See <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2.)
We want to stemm only the words which contain more than two letters.
<BR><BR>
Remove morphological suffixes:<BR>
<DL><DD>
	Search for the longest among the following suffixes
	and perform the action indicated:
<BR><BR><DL>
	<DT><B><I>ului uri urile urilor ul</I></B>
		<DD>delete
			<DT><B><I>le</B></I>
		<DD>if preceded by <B><I>a</B></I> or <B><I>o</B></I> replace with <B><I>l</B></I>(it fix miss-steming for <I>oale</I>(pots), otherwise delete
	<DT><B><I>lelor elor ilor elui lor ele ile ei i ii e a {ab}</B></I>
		<DD>delete
</DL>
</DL>

Remove verb suffixes:
<DL><DD>
	Search for the longest among the following suffixes
	and perform the action indicated:
<BR><BR><DL>
	<DT><B><I>eaz{ab} eaza ezi ez z{ab}</B></I>
		<DD>if in R1 or R2 delete 
	<DT><B><I>esc e{s,}ti e{s,}te im i{t,}i</B></I>
		<DD>if in R1 or R2 delete
	<DT><B><I>ai a{s,}i i{s,}i am {ab}m em au r{ab}m ea u</B></I>
 		<DD>if in R1 or R2 delete
	<DT><B><I>{t,}i</B></I>
		<DD>if preceded by <B><I>a</B></I>, <B><I>e</B></I>, <B><I>i</B></I>, <B><I>u</B></I> and in R1 delete

</DL>
</DL>

Remove derivational suffixes(we do this operation in two steps):
<DL><DD>
	Search for the longest among the following suffixes
	and perform the action indicated:<BR>
(1):
<BR><BR><DL>
	<DT><B><I>ism, ist, i{s,}t</B></I>
		<DD>if in R1 or R2 and preceded by a consonant, delete
	<DT><B><I>iz, ant, {ab}r, ar</B></I>
		<DD>if in R2 and preceded by a consonant, delete
	<DT><B><I>tor, toar, abil, ibil</B></I>
		<DD>delete if in R1 or R2
	<DT><B><I>ime, esc</B></I>
		<DD>delete 	
	<DT><B><I>n{t,}</B></I>
		<DD>if in R2 replace with <I>nt</I>
</DL>
(2):
<BR><BR><DL>
	<DT><B><I>{ab}r, ar</B></I>
		<DD>if in R1 or R2 and preceded by consonant delete
	<DT><B><I>anie, icel, giu, eal, {ab}tat</B></I>
		<DD>if R2 and preceded by consonant delete
	<DT><B><I>ulte{t,}, u{t,}, uc, u{s,}, el, oi</B></I>
		<DD>if R1 delete
	<DT><B><I>ir, im, i{s,}, iz, iv, aj, an, ac</B></I>
		<DD>if in R1 or R2 and preceded by consonant delete
	<DT><B><I>ic</B></I>
		<DD>if in R1 or R2 delete
	<DT><B><I>er</B></I>
		<DD>if in R1 or R2 and preceded by consonant or <I>i</I>, delete
	<DT><B><I>os, o{s,}, oas</B></I>
				<DD>if preceded by <B><I>u</B></I>, <B><I>j</B></I>, <B><I>i</B></I>, <B><I>r</B></I> or <B><I>p</B></I> in R1, delete
	<DT><B><I>ant, ean, liv, al</B></I>
		<DD>if in R1 or R2, delete
	<DT><B><I>{s,}or, {s,}oar</B></I>
		<DD>if in R1 or R2 and preceded by vowel, delete
</DL>
</DL>

Remove residual_suffix (there are vowels which appear through derivation, e.g: <I>munc<B>i</B>tor</I> - worker, or participle suffixes) 
<DL><DD>
	Search for the longest among the following suffixes
	and perform the action indicated:

<BR><BR><DL>
	<DT><B><I>a, {ab}, e, u, i</B></I>
		<DD>if in R1 or R2 and preceded by consonant, delete
	<DT><B><I>at, a{t,}, ut, u{t,}, it, i{t,}</B></I>
		<DD>if in R1 or R2 delete
</DL>
</DL>

</TD>
</TR>


<TR><TD BGCOLOR="lightblue">

<BR>&nbsp;<H2>The same algorithm in Snowball</H2>

<BR><PRE>
<DL><DD>
/*
Department of Computational Linguistics,
Ruprecht-Karls-University of Heidelberg

Marina Stegarescu: mstegare@hotmail.com
Doina Gliga: doina_gliga@yahoo.co.uk
Erwin Glockner: eglockner@hotmail.com

2006.07.15
*/

routines (
	mark_regions
	R1 R2
    	morhological_suffixes
    	deriv_suffixes1
	deriv_suffixes2
	exception1	
	verb_suffix
	residual_suffix	
	
 )

externals ( stem )
integers (p1 p2 )
groupings ( v )

stringescapes {}

stringdef a^ 	hex 'E2'  // â
stringdef ab 	hex '103' // ?
stringdef i^ 	hex 'EE'  // î
stringdef s,	hex '15F' // ? 
stringdef t,	hex '163' // ?

 
define v      'aeiouy{a^}{ab}{i^}' 		


define mark_regions as (
    $p1 = limit 
    $p2 = limit 

    do(
        among (
			'coral' 'moral' 'social' 'canal' 'final' 'papagal' 'special' 'tractor' 'abator'
			'marar' 'declar' 'suf{ab}r' 
			'polonic' 'voinic'
			'paravan' 'simultan' 'decan' 'decal' 'tiran'
			'caracter' 'tiner' 'acoper' 'descoper' 'sufer' 'numer'
			'orator' 'autor'
			'exprim' 'prim' 'ultim' 'optim' 'victim' 'antonim' 'sinonim'
			'adjectiv' 'conjunctiv' 'subjonctiv' 'substantiv' 'pozitiv' 'recidiv' 'infinitiv'
			'complet' 'absolut' 'debut' 'debit' 	
			'miros'
			'dantel' 'nuvel' 'tutel' 'model' 'cercel'
			'savant' 'ambulant'
			'aparat' 'ar{ab}t'
			'specific' 'critic' 
			'oribil' 'probabil'
			'bine' 'feroce' 'atroce'  

            // ... extensions possible here ...
        ) or (gopast v  gopast non-v)
        setmark p1 				
        gopast v  gopast non-v  setmark p2
    )
)


define exception1 as (
	[substring] atlimit among (

		'cea' (<-'ce')
		'cel' (<- 'ce')
		'cei' (<- 'ce')
		'celui'(<- 'ce')
		'celei' (<- 'ce')
		'celor' (<- 'ce')
		'destul' 'astfel' 'altfel'
		'asupra' 'deasupra' 'asemenea' 'afar{ab}'
		'mai' 'nici' 'aici' 'apoi' 'musai' 'baremi' 'uneori' 'altminteri' 'deseori' 'numai'
		'{i^}nt{a^}i' 'p{a^}n{ab}' 'dup{ab}'
		'noi' 'voi' 'imi' 'i{t,}i' 'i{s,}i' 'cine' 'care' 				
		'cui' 'ori' 
		'acest' 'pentru' 'sau'
		'c{ab}tre' 'despre' 'spre' 'dinspre' 'dintre' 'printre' '{i^}ntre' 'devreme' 'aproape' 'departe'
		'bine' 'feroce' 'atroce'
		'exprim' 'prim' 'ultim' 'optim' 'victim' 'antonim' 'sinonim' 
		'fonem' 'extrem' 'poem' 'suprem'
	)
)

backwardmode (
	
   	define R1 as $p1 <= cursor 
   	define R2 as $p2 <= cursor 

   	define morhological_suffixes as ( 
  		[substring] among (
			'ului' 'uri' 'urile' 'urilor' 'ul'
				(delete)
			'le'
				( ('a' or 'o' <- 'l') or delete) 
			'lui' 'lor' 'elor' 'ilor' 'ele' 'ile' 'ei' 'i' 'ii' 'e' 'a' '{ab}' 
				( delete ) 
		  )
    ) 

	  define deriv_suffixes1 as ( 
  		[substring] among (
			'ism' 'ist' 'i{s,}t'
				(R2 or R1 non-v delete) 
			'iz' 'ant' '{ab}r' 'ar'		
				(R2 non-v delete)
			
			'tor' 'toar' 'abil' 'ibil' 
				(R1 or R2 delete)		

			'ime' 'esc' 
				( delete) 			
			'n{t,}'
				(R2 <- 'nt')		
	  )		
  )

	define deriv_suffixes2 as ( 
  		[substring] among (
			'{ab}r' 'ar'
				(R1 or R2 non-v delete)		

			'anie' 'icel' 'giu' 'eal' '{ab}tat'
				(R2 non-v delete) 		

			
			'ulte{t,}' 'u{t,}' 'uc' 'u{s,}' 'el' 'oi' 
				( R1 delete)			

			'ir' 'im' 'i{s,}' 'iz' 'iv' 'aj' 'an' 'ac'  
				( R1 or R2 non-v delete)	

			'ic'
				(R2 or R1 delete)			

			'er'
				(R1 or R2 non-v or 'i' delete) 

			'os' 'o{s,}' 'oas' 
				(('u' or 'i' or 'j' or 'r' or 'p') R1 delete) 

			'ant' 'ean' 'liv' 'al' 
				( R1 or R2 delete)		

			'{s,}or' '{s,}oar'
				(R1 or R2 v delete)		
		)		
	)
   
   	define verb_suffix as (
        	[substring] among (
           
		'eaz{ab}' 'eaza' 'ezi' 'ez' 'z{ab}'
			(R1 or R2 delete) 
		'esc' 'easc{ab}' 'e{s,}ti' 'e{s,}te' 'im' 'i{t,}i' 
			(R1 or R2 delete)
			
		'ai' 'a{s,}i' 'i{s,}i' 'am' '{ab}m' 'em'  
		'au' 'r{ab}m' 'ea' 'u'
		     	(R1 or R2 delete)
		'{t,}i'
			(R1 'a' 'e' 'i' 'u' delete)
		'se' 'sei' 'se{s,}i' 'ser{ab}m' 'ser{ab}{t,}i' 'ser{ab}' 'r{ab}'
			(R1 or R2 delete)
		'ind' '{i^}nd' '{a^}nd'
			(R1 or R2 delete)
		
		)
  )
    
	define residual_suffix as (
        [substring] among (
		'a' '{ab}' 'e' 'u' 'i'		
			(R1 or R2 non-v delete)		

		'at' 'a{t,}' 'it' 'i{t,}' 'ut' 'u{t,}' 
			(R2 or R1 delete)			

		)
	) 	
)

define stem as (
   	
	exception1 or 		
	not hop 3 or ( 		
   		do mark_regions 	
		backwards ( 	
			
			do (verb_suffix or morhological_suffixes)	
			
				do deriv_suffixes1 	
				do deriv_suffixes2	
				residual_suffix 		
			
		)	
  )
)

</DL>
</PRE>
</TR>
</TABLE>
</BODY>
</HTML>
